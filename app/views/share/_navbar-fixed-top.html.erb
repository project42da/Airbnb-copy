<!-- Fixed navbar -->
<nav class="navbar navbar-airbnb navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <a id="toggleLogo" class="navbar-brand"><%=image_tag("logo.svg", alt: "airbnb logo")%><span id="logoArrow" class="caret"></span></a>
      <a id="notToggleLogo" href="/" class="navbar-brand"><%=image_tag("logo.svg", alt: "airbnb logo")%></a>
    </div>
    
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="mobileView"><%=link_to "홈", root_path %></li>
        <hr class="mobileView">
        <li><a href="../navbar/">호스팅 하기</a></li>
        
      <%if(!current_user)%>
        <li><a data-toggle="modal" data-target="#signupModal" style="cursor: pointer;">회원가입</a></li>
        <li><a data-toggle="modal" data-target="#loginModal" style="cursor: pointer;">로그인</a></li>
      <%else%>
        <li><%=link_to "여행"%></li>
        <hr class="mobileView">
        <li class="mobileView"><%=link_to "프로필보기", current_user %></li>
        <li class="mobileView"><%=link_to "계정관리"%></li>
        <li class="mobileView"><%=link_to "로그아웃", destroy_user_session_path, method: :delete%></li>

        <li class="dropdown mobileHide">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <%=image_tag avatar_url(current_user), class: "img-circle avatar-small" %>&nbsp;
          </a>
          <ul class="dropdown-menu">
            <li><%=link_to "프로필보기", current_user %></li>
            <li><%=link_to "계정관리"%></li>
            <li><%=link_to "로그아웃", destroy_user_session_path, method: :delete%></li>
          </ul>
        </li>
      <%end%>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<script>
  (function(){

    var logo = document.getElementById('toggleLogo');
    var Arrow = document.getElementById('logoArrow');

    function setAttributes(el, attrs) {
      for(var key in attrs) {
        el.setAttribute(key, attrs[key]);
      }
    };

    setAttributes(logo, {"data-toggle":"collapse", "data-target":"#navbar", "aria-expanded":"false", "aria-controls":"navbar"});
    logo.addEventListener('click', function(){
      Arrow.classList.toggle('rotate');
    })
  }());
  

</script>